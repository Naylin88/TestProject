@{
    ViewData["Title"] = "HomePage";
}

<div class="text-center">
    <h3 class="display-4">Test Project to submit 2C2P</h3>
    <hr />
</div>

<form id="form" method="post" asp-controller="FileUpload" asp-action="Upload" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv,.xml" required />
    <button type="submit">Upload</button>
</form>
<hr>

@section scripts
{
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.13.1/additional-methods.js"></script>
    <script type="text/javascript">
        $.validator.addMethod('filesize', function (value, element, param) {
            return this.optional(element) || (element.files[0].size <= param)
        }, 'File size must be less than {0} bytes');

        $(function ($) {
            "use strict";
            $('#form').validate({
                rules: {
                    fileUpload: {
                        extension: "csv,xml",
                        filesize: 1048576 // 1 MB
                    }
                },
            });
        });
    </script>
}